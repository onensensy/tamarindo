import{bM as h,h as g,k as V,v as T,$ as _,a0 as p,x as k,j as v,w as B,z as a,A as o,Z as y,G as L,Y as x,C as Y,O as w,F as C,B as m,I as u,l as E,P as I,R as O}from"./index.8f0bf197.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";const A={searchVideosBySong:async(e,s)=>await h.remember(["youtube.search",e.id,s],async()=>await g.get(`youtube/search/song/${e.id}?pageToken=${s}`)),play:e=>{V.emit("PLAY_YOUTUBE_VIDEO",{id:e.id.videoId,title:e.snippet.title})}},M={class:"youtube-extra-wrapper"},S={key:1,class:"nope"},N=T({__name:"YouTubeVideoList",props:{song:{}},setup(e){const s=e,f=_(()=>p(()=>import("./Btn.abe2bb59.js").then(t=>t.a),["assets/Btn.abe2bb59.js","assets/Btn.535c40ae.css","assets/index.8f0bf197.js","assets/_plugin-vue_export-helper.cdc0426e.js"])),b=_(()=>p(()=>import("./YouTubeVideoItem.f6d1736b.js"),["assets/YouTubeVideoItem.f6d1736b.js","assets/YouTubeVideoItem.641353cf.css","assets/index.8f0bf197.js","assets/app.be92839b.js","assets/app.f853c32d.css","assets/Btn.abe2bb59.js","assets/Btn.535c40ae.css","assets/_plugin-vue_export-helper.cdc0426e.js"])),{song:c}=k(s),r=v(!1),n=v([]);let i="";const l=async()=>{r.value=!0;try{const t=await A.searchVideosBySong(c.value,i);i=t.nextPageToken,n.value.push(...t.items)}catch(t){E.error(t)}finally{r.value=!1}};return B(c,()=>{n.value=[],i="",l()},{immediate:!0}),(t,$)=>(a(),o("div",M,[n.value.length?(a(),o(y,{key:0},[L("ul",null,[(a(!0),o(y,null,x(n.value,d=>(a(),o("li",{key:d.id.videoId,"data-testid":"youtube-video"},[I(m(b),{video:d},null,8,["video"])]))),128))]),r.value?u("",!0):(a(),Y(m(f),{key:0,class:"more",onClick:C(l,["prevent"])},{default:w(()=>[O("Load More")]),_:1},8,["onClick"]))],64)):u("",!0),r.value?(a(),o("p",S,"Loading\u2026")):u("",!0)]))}});const R=P(N,[["__scopeId","data-v-b5c4a4f8"]]),z=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{z as Y,A as y};
