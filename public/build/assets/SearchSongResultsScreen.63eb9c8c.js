import{v as A,j as d,aj as w,bs as r,n as F,V as T,z as n,A as q,P as u,bj as z,B as e,O as s,C as i,G as c,N as p,aM as E,I,R as M,aO as O}from"./index.8f0bf197.js";import{j as U}from"./app.be92839b.js";import"./Btn.abe2bb59.js";import{u as D,S as G,a as H}from"./index.f07e8060.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./useAuthorization.5beda362.js";import"./useSongMenuMethods.5f7dfc3e.js";import"./downloadService.40931a22.js";import"./SoundBars.e7c8d9da.js";import"./useUpload.8e7c76aa.js";const Q={id:"songResultsWrapper"},W={class:"text-thin"},le=A({__name:"SearchSongResultsScreen",setup(J){const{getRouteParam:S}=U(),o=d(""),{SongList:g,SongListControls:f,ControlsToggle:h,ThumbnailStack:y,headerLayout:k,songs:t,songList:_,thumbnails:v,duration:P,showingControls:a,isPhone:R,onPressEnter:B,playAll:C,playSelected:V,applyFilter:b,sort:L,onScrollBreakpoint:x}=D(w(r.state,"songs")),N=F(()=>decodeURIComponent(o.value)),l=d(!1);return r.resetSongResultState(),T(async()=>{o.value=S("q")||"",o.value&&(l.value=!0,await r.songSearch(o.value),l.value=!1)}),(K,m)=>(n(),q("section",Q,[u(G,{layout:e(t).length===0?"collapsed":e(k)},z({thumbnail:s(()=>[u(e(y),{thumbnails:e(v)},null,8,["thumbnails"])]),controls:s(()=>[e(t).length&&(!e(R)||e(a))?(n(),i(e(f),{key:0,onFilter:e(b),onPlayAll:e(C),onPlaySelected:e(V)},null,8,["onFilter","onPlayAll","onPlaySelected"])):I("",!0)]),default:s(()=>[M(" Songs for "),c("span",W,p(N.value),1),u(e(h),{modelValue:e(a),"onUpdate:modelValue":m[0]||(m[0]=j=>O(a)?a.value=j:null)},null,8,["modelValue"])]),_:2},[e(t).length?{name:"meta",fn:s(()=>[c("span",null,p(e(E)(e(t),"song")),1),c("span",null,p(e(P)),1)]),key:"0"}:void 0]),1032,["layout"]),l.value?(n(),i(H,{key:0})):(n(),i(e(g),{key:1,ref_key:"songList",ref:_,onSort:e(L),"onPress:enter":e(B),onScrollBreakpoint:e(x)},null,8,["onSort","onPress:enter","onScrollBreakpoint"]))]))}});export{le as default};
