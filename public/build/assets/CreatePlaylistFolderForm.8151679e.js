import{v as g,j as C,a9 as k,z as x,A as B,G as e,aa as D,aH as F,P as l,O as n,F as i,aG as S,au as b,l as P,R as c}from"./index.8f0bf197.js";import{k as N,l as O}from"./app.be92839b.js";import{u as V}from"./useOverlay.b8f8c136.js";import{B as m}from"./Btn.abe2bb59.js";import"./_plugin-vue_export-helper.cdc0426e.js";const E=["onSubmit","onKeydown"],K=e("header",null,[e("h1",null,"New Playlist Folder")],-1),M={class:"form-row"},H=g({__name:"CreatePlaylistFolderForm",emits:["close"],setup(T,{emit:u}){const{showOverlay:d,hideOverlay:f}=V(),{toastSuccess:p}=N(),{showErrorDialog:y,showConfirmDialog:h}=O(),o=C(""),t=()=>u("close"),v=async()=>{d();try{const a=await b.store(o.value);t(),p(`Playlist folder "${a.name}" created.`)}catch(a){y("Something went wrong. Please try again.","Error"),P.error(a)}finally{f()}},s=async()=>{if(o.value.trim()===""){t();return}await h("Discard all changes?")&&t()};return(a,r)=>{const _=k("koel-focus");return x(),B("form",{onSubmit:i(v,["prevent"]),onKeydown:S(s,["esc"])},[K,e("main",null,[e("div",M,[D(e("input",{"onUpdate:modelValue":r[0]||(r[0]=w=>o.value=w),name:"name",placeholder:"Folder name",required:"",type:"text"},null,512),[[F,o.value],[_]])])]),e("footer",null,[l(m,{type:"submit"},{default:n(()=>[c("Save")]),_:1}),l(m,{white:"",onClick:i(s,["prevent"])},{default:n(()=>[c("Cancel")]),_:1},8,["onClick"])])],40,E)}}});export{H as default};
