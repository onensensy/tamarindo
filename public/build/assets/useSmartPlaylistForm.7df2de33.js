import{z as a,A as c,aC as k,v as E,x as F,$ as v,a0 as g,a1 as O,y as b,G as _,B as d,R as n,Z as x,Y as N,C as V,P as y,O as $,bB as A,F as j,at as R,a5 as w,a6 as L,j as T}from"./index.8f0bf197.js";import{B as D}from"./Btn.abe2bb59.js";import"./app.be92839b.js";import{_ as G}from"./_plugin-vue_export-helper.cdc0426e.js";import J from"./SoundBars.e7c8d9da.js";const z={},M={class:"smart-playlist-form"};function U(e,t){return a(),c("div",M,[k(e.$slots,"default")])}const Y=G(z,[["render",U],["__scopeId","data-v-471b5c3a"]]),B=e=>(w("data-v-43021cd9"),e=e(),L(),e),Z={class:"rule-group","data-testid":"smart-playlist-rule-group"},q={class:"group-banner"},H={key:0},K=B(()=>_("strong",null,"all",-1)),Q={key:1},W=B(()=>_("strong",null,"all",-1)),X=E({__name:"SmartPlaylistRuleGroup",props:{group:{},isFirstGroup:{type:Boolean}},emits:["input"],setup(e,{emit:t}){const m=e,{group:f,isFirstGroup:l}=F(m),i=v(()=>g(()=>import("./Btn.abe2bb59.js").then(s=>s.a),["assets/Btn.abe2bb59.js","assets/Btn.535c40ae.css","assets/index.8f0bf197.js","assets/_plugin-vue_export-helper.cdc0426e.js"])),r=v(()=>g(()=>import("./SmartPlaylistRule.845f6299.js"),["assets/SmartPlaylistRule.845f6299.js","assets/SmartPlaylistRule.6d7a99da.css","assets/index.8f0bf197.js","assets/_plugin-vue_export-helper.cdc0426e.js"])),o=O(JSON.parse(JSON.stringify(f.value))),h=()=>t("input",o),S=()=>o.rules.push(R.createEmptySmartPlaylistRule()),C=s=>{Object.assign(o.rules.find(u=>u.id===s.id),s),h()},I=s=>{o.rules=o.rules.filter(u=>u.id!==s.id),h()};return(s,u)=>{const P=b("Icon");return a(),c("div",Z,[_("div",q,[d(l)?(a(),c("span",H,[n(" Include songs that match "),K,n(" of these criteria ")])):(a(),c("span",Q,[n(" or "),W,n(" of these criteria ")]))]),(a(!0),c(x,null,N(o.rules,p=>(a(),V(d(r),{key:p.id,rule:p,onInput:C,onRemove:te=>I(p)},null,8,["rule","onRemove"]))),128)),y(d(i),{class:"btn-add-rule",green:"",small:"",uppercase:"",onClick:j(S,["prevent"])},{default:$(()=>[y(P,{icon:d(A)},null,8,["icon"]),n(" Rule ")]),_:1},8,["onClick"])])}}}),ee=G(X,[["__scopeId","data-v-43021cd9"]]),ce=(e=[])=>{const t=T(e);return{Btn:D,FormBase:Y,RuleGroup:ee,SoundBars:J,collectedRuleGroups:t,addGroup:()=>t.value.push(R.createEmptySmartPlaylistRuleGroup()),onGroupChanged:l=>{const i=Object.assign(t.value.find(r=>r.id===l.id),l);i.rules.length===0&&(t.value=t.value.filter(r=>r.id!==i.id))}}};export{ce as u};
