import{v as h,j as C,k as o,z as T,C as d,O as k,B as E,G as t,s as r}from"./index.8f0bf197.js";import{j as P,k as L,p as u}from"./app.be92839b.js";import{u as S}from"./useContextMenu.bb260cc5.js";import"./Btn.abe2bb59.js";import"./_plugin-vue_export-helper.cdc0426e.js";const v=t("li",{class:"separator"},null,-1),q=h({__name:"PlaylistContextMenu",setup(M){const{base:c,ContextMenuBase:p,open:_,trigger:a}=S(),{go:n}=P(),{toastWarning:l}=L(),s=C(),f=()=>a(()=>o.emit("MODAL_SHOW_EDIT_PLAYLIST_FORM",s.value)),y=()=>a(()=>o.emit("PLAYLIST_DELETE",s.value)),m=()=>a(async()=>{const e=await r.fetchForPlaylist(s.value);e.length?(u.queueAndPlay(e),n("queue")):l("The playlist is empty.")}),g=()=>a(async()=>{const e=await r.fetchForPlaylist(s.value);e.length?(u.queueAndPlay(e,!0),n("queue")):l("The playlist is empty.")});return o.on("PLAYLIST_CONTEXT_MENU_REQUESTED",async(e,i)=>{s.value=i,await _(e.pageY,e.pageX)}),(e,i)=>(T(),d(E(p),{ref_key:"base",ref:c},{default:k(()=>[t("li",{onClick:m},"Play"),t("li",{onClick:g},"Shuffle"),v,t("li",{onClick:f},"Edit\u2026"),t("li",{onClick:y},"Delete")]),_:1},512))}});export{q as default};
