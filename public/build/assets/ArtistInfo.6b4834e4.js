import{v as g,x as w,j as d,w as x,n as f,y as I,z as e,A as a,B as s,G as l,N as B,P as F,bL as L,F as p,I as o,C as S,Z as T,R as M,Q as N,s as P}from"./index.8f0bf197.js";import{j as H,p as V}from"./app.be92839b.js";import{m as z}from"./mediaInfoService.83930c31.js";import"./Btn.abe2bb59.js";import{b as R,A as j}from"./index.f07e8060.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import"./useAuthorization.5beda362.js";import"./useSongMenuMethods.5f7dfc3e.js";import"./downloadService.40931a22.js";import"./SoundBars.e7c8d9da.js";import"./useUpload.8e7c76aa.js";const D={key:0,class:"name"},$=["title","onClick"],E={key:0,class:"bio"},G=["innerHTML"],Q=["innerHTML"],Z=["href"],J=g({__name:"ArtistInfo",props:{artist:{},mode:{default:"aside"}},setup(v){const _=v,{artist:n,mode:r}=w(_),{go:y}=H(),{useLastfm:b,useSpotify:h}=R(),t=d(null),i=d(!1);x(n,async()=>{i.value=!1,t.value=null,(b.value||h.value)&&(t.value=await z.fetchForArtist(n.value))},{immediate:!0});const u=f(()=>r.value!=="full"&&!i.value),k=f(()=>!u.value),A=async()=>{V.queueAndPlay(await P.fetchForArtist(n.value)),y("queue")};return(K,c)=>{var m;const C=I("Icon");return e(),a("article",{class:N([s(r),"artist-info"]),"data-testid":"artist-info"},[s(r)==="aside"?(e(),a("h1",D,[l("span",null,B(s(n).name),1),l("button",{title:`Play all songs by ${s(n).name}`,class:"control",type:"button",onClick:p(A,["prevent"])},[F(C,{icon:s(L),size:"xl"},null,8,["icon"])],8,$)])):o("",!0),l("main",null,[s(r)==="aside"?(e(),S(j,{key:0,entity:s(n)},null,8,["entity"])):o("",!0),t.value?(e(),a(T,{key:1},[(m=t.value.bio)!=null&&m.summary?(e(),a("div",E,[u.value?(e(),a("div",{key:0,class:"summary","data-testid":"summary",innerHTML:t.value.bio.summary},null,8,G)):o("",!0),k.value?(e(),a("div",{key:1,class:"full","data-testid":"full",innerHTML:t.value.bio.full},null,8,Q)):o("",!0),u.value?(e(),a("button",{key:2,class:"more",onClick:c[0]||(c[0]=p(O=>i.value=!0,["prevent"]))}," Full Bio ")):o("",!0)])):o("",!0),l("footer",null,[M(" Data \xA9 "),l("a",{href:t.value.url,rel:"openener",target:"_blank"},"Last.fm",8,Z)])],64)):o("",!0)])],2)}}});const re=q(J,[["__scopeId","data-v-bbdd966f"]]);export{re as default};
