import{v,$ as I,a0 as T,x as k,m as L,n as s,s as h,aU as x,av as $,z as o,A as l,G as i,N as m,B as c,C,I as B,Q as q,q as N,j as V,ax as w,V as E,Z as M,Y as P,a5 as R,a6 as U,P as j}from"./index.8f0bf197.js";import{S as f,p as z}from"./app.be92839b.js";import"./Btn.abe2bb59.js";import{b as D}from"./index.f07e8060.js";import{_ as b}from"./_plugin-vue_export-helper.cdc0426e.js";import"./useAuthorization.5beda362.js";import"./useSongMenuMethods.5f7dfc3e.js";import"./downloadService.40931a22.js";import"./SoundBars.e7c8d9da.js";import"./useUpload.8e7c76aa.js";const F=["title"],Q={class:"title"},G={class:"length"},H=v({__name:"AlbumTrackListItem",props:{album:{},track:{}},setup(t){const r=t,n=I(()=>T(()=>import("./AppleMusicButton.b76d590c.js"),["assets/AppleMusicButton.b76d590c.js","assets/AppleMusicButton.6052fbb9.css","assets/index.8f0bf197.js","assets/_plugin-vue_export-helper.cdc0426e.js"])),{album:u,track:a}=k(r),{useAppleMusic:p}=D(),d=L(f),e=s(()=>h.match(a.value.title,d.value)),_=s(()=>e.value?"Click to play":""),g=s(()=>x(a.value.length)),y=s(()=>e.value&&e.value.playback_state!=="Stopped"),A=s(()=>`${window.BASE_URL}itunes/song/${u.value.id}?q=${encodeURIComponent(a.value.title)}&api_token=${$.getApiToken()}`),S=()=>{e.value&&(N.queueIfNotQueued(e.value),z.play(e.value))};return(X,ee)=>(o(),l("div",{class:q(["track-list-item",{active:y.value,available:e.value}]),title:_.value,tabindex:"0",onClick:S},[i("span",Q,m(c(a).title),1),c(p)&&!e.value?(o(),C(c(n),{key:0,url:A.value},null,8,["url"])):B("",!0),i("span",G,m(g.value),1)],10,F))}});const K=b(H,[["__scopeId","data-v-456d92fa"]]),O=t=>(R("data-v-5c0edd02"),t=t(),U(),t),Y={class:"track-listing"},Z=O(()=>i("h1",null,"Track Listing",-1)),J={class:"tracks"},W=v({__name:"AlbumTrackList",props:{album:{},tracks:{}},setup(t){const r=t,{album:n,tracks:u}=k(r),a=V([]);return w(f,a),E(async()=>a.value=await h.fetchForAlbum(n.value)),(p,d)=>(o(),l("section",Y,[Z,i("ul",J,[(o(!0),l(M,null,P(c(u),(e,_)=>(o(),l("li",{key:_,"data-testid":"album-track-item"},[j(K,{album:c(n),track:e},null,8,["album","track"])]))),128))])]))}});const _e=b(W,[["__scopeId","data-v-5c0edd02"]]);export{_e as default};
